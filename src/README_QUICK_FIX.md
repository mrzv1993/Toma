# ‚ö° –ë–´–°–¢–†–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (1 –º–∏–Ω—É—Ç–∞)

## –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?

–í—ã –≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```
[HttpClient] Server health check failed with status: 404
‚ö†Ô∏è  STATUS 404 means OLD CODE is still deployed!
```

## –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?

‚úÖ –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –≤ `/supabase/functions/server/index.tsx`  
‚ùå –ù–æ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Supabase  
‚úÖ –ù—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ **–∑–∞–¥–µ–ø–ª–æ–∏—Ç—å** –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (30 —Å–µ–∫—É–Ω–¥)

```bash
chmod +x deploy-edge-function.sh && ./deploy-edge-function.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ (30 —Å–µ–∫—É–Ω–¥)

```bash
supabase functions deploy server --project-ref gyeavjcumghuiblzjwnx
```

### –í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (1 –º–∏–Ω—É—Ç–∞)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://supabase.com/dashboard/project/gyeavjcumghuiblzjwnx/functions
2. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `server`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–µ–ø–ª–æ—è
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** https://tommma.ru
2. **–ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:** `Ctrl+F5` (Windows) –∏–ª–∏ `Cmd+Shift+R` (Mac)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12):** –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å `‚úÖ Server health check passed`
4. **–ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å**
5. **–î–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è**

## –ß—Ç–æ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è?

–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç:
- ‚úÖ `/health` endpoint —Å –≤–µ—Ä—Å–∏–µ–π –∏ timestamp
- ‚úÖ `/ping` endpoint –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ `/` (root) endpoint —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± API
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ CORS headers

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://gyeavjcumghuiblzjwnx.supabase.co/functions/v1/server/health
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "status": "ok",
  "timestamp": "2025-12-06T12:34:56.789Z",
  "version": "1.0.0"
}
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - **–≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

## –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å

- üìñ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `/DEPLOY_NOW.md`
- üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è: `/DEPLOYMENT_CHECKLIST.md`
- üîç –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: `/EDGE_FUNCTION_SETUP.md`

## –í–∞–∂–Ω–æ!

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–¥–µ–ª–∞–π—Ç–µ **–∂–µ—Å—Ç–∫—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É** —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`Ctrl+F5`), –∏–Ω–∞—á–µ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å –æ—à–∏–±–∫–æ–π.

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 30-60 —Å–µ–∫—É–Ω–¥  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –õ–µ–≥–∫–æ  
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** Supabase CLI (—É—Å—Ç–∞–Ω–æ–≤–∫–∞: `npm install -g supabase`)
